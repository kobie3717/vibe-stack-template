# Gitleaks Configuration (v8.x compatible)
# https://github.com/gitleaks/gitleaks
#
# This configuration prevents secrets from being committed.
# Run: gitleaks detect --source . --config .gitleaks.toml

title = "Gitleaks Configuration for PROJECT_NAME"

[extend]
# Use default rules
useDefault = true

# Allowlist configuration
[allowlist]
# Paths to ignore (regex patterns)
paths = [
  # Dependencies
  '''node_modules/''',
  '''vendor/''',

  # Build outputs
  '''dist/''',
  '''build/''',
  '''.next/''',
  '''out/''',

  # Environment files (should also be in .gitignore)
  '''\.env$''',
  '''\.env\.local$''',
  '''\.env\.\w+$''',

  # Test fixtures and mocks
  '''__tests__/''',
  '''__mocks__/''',
  '''tests/fixtures/''',
  '''\.test\.(ts|js|tsx|jsx)$''',
  '''\.spec\.(ts|js|tsx|jsx)$''',

  # Lock files
  '''package-lock\.json$''',
  '''yarn\.lock$''',
  '''pnpm-lock\.yaml$''',

  # Documentation
  '''\.md$''',

  # CI/CD (contains intentional test values)
  '''\.github/workflows/''',

  # Generated files
  '''\.prisma/''',
  '''generated/''',

  # IDE
  '''\.vscode/''',
  '''\.idea/''',
]

# Regex patterns to ignore (false positives)
regexes = [
  # Example tokens used in documentation
  '''example[-_]token''',
  '''test[-_]secret''',
  '''placeholder''',
  '''your[-_]secret[-_]here''',

  # Base64 encoded test data
  '''dGVzdC''',

  # Common test values
  '''test_jwt_secret''',
  '''test[-_]password''',
  '''fake[-_]api[-_]key''',
]

# Stop words - strings that indicate test/example content (plain string array)
stopwords = [
  "example",
  "test",
  "fake",
  "dummy",
  "placeholder",
  "sample",
  "mock",
  "fixture",
]

# Commits to ignore (plain string array of commit SHAs)
# Uncomment and add specific commits if needed:
# commits = [
#   "abc123def456...",
# ]
